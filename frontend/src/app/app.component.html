<div *ngIf="!(authState | async).loading" class="background">
  <div class="header">
    <div class="arc-top">
      <div class="name">
        <div class="logo">
          <button mat-mini-fab color="primary">
            <mat-icon>stars</mat-icon>
          </button>
        </div>
        <div class="title">
          BSX
        </div>
      </div>
      <div class="links">
        <ul *ngIf="!!(authState | async).user.firstName">
          <li>Home</li>
          <li>Shop</li>
          <li>Contact</li>
        </ul>
        <ul *ngIf="!(authState | async).user.firstName">
          <li><a routerLinkActive="active" [routerLink]="['/login']">Login</a> </li>
          <li><a routerLinkActive="active" [routerLink]="['/signup']">Signup</a></li>
        </ul>
      </div>
      <div class="cart">
        <div class="total">{{calculateCartTotal()}}</div>
        <div class="cart-icon">
          <button *ngIf="!!(authState | async).user.firstName" (click)="openCheckoutModal()" mat-mini-fab color="primary">
            <mat-icon>shop</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="fixed-static-pane">
    <div class="fixed-static-pane-top">
      <div class="pane-info">
        <div *ngIf="!!(authState | async).user.firstName" class="box box--1"><span>Home/Products</span></div>
        <div class="box box--2"><span>{{title}}</span></div>
        <div *ngIf="!!(authState | async).user.firstName" class="box box--3">
          <span style="margin-right: 10px;">Showing 1-12 of 34 results</span>
          <button mat-button [matMenuTriggerFor]="menu"> <div>Sort</div> <mat-icon>arrow_drop_down</mat-icon> </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item>Item 1</button>
            <button mat-menu-item>Item 2</button>
          </mat-menu>
        </div>
      </div>
    </div>
  </div>

  <div class="body">
    <div class="bottom-arc">
      <div class="solid-static-pane"></div>
      <router-outlet *ngIf="!(authState | async).loading"></router-outlet>
    </div>
  </div>
</div>

<!-- <div *ngIf="!(authState | async).loading" class="body">
  <div class="header">
    <div class="logo">Bar Stock Exchange</div>
    <nav>
      <ul *ngIf="!!(authState | async).user.firstName">
        <span>Welcome {{(authState | async).user?.firstName.toUpperCase()}}</span>
        <button (click)="openCheckoutModal()" style="margin: 3px -20px 0 0" mat-icon-button color="accent">
          <mat-icon>add_shopping_cart</mat-icon>
        </button>
        <span>{{calculateCartTotal()}}</span>
        <li (click)="logout()"><a href="">Logout</a></li>
      </ul>
      <ul *ngIf="!(authState | async).user.firstName">
        <li><a routerLink="/login">Login</a> </li>
        <li><a routerLink="/signup">Signup</a></li>
      </ul>
    </nav>
  </div>
</div>

<router-outlet *ngIf="!(authState | async).loading"></router-outlet> -->



<!-- <app-checkout></app-checkout> -->

<!-- <app-loader *ngIf="(authState | async).loading"></app-loader> DO NOT UNCOMMENT -->
